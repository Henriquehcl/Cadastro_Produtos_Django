<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CRUD em Python</title>
        {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" /></head>
<body>
  <div class="container-fluid blockquote text-center">
    <h3>Edição de Produto</h3>
    <small class="text-muted">
      <p>CRUD em Python com SQLite</p>
    </small>
  </div>
  <main>

    <div class="container p-3 mb-5 rounded">

    <div class="col-8 m-auto pt-2 pb-2">
        <a href="/" class="btn btn-info">Voltar</a>
    </div>

    <div class="col-8 m-auto pt-4 pb-2">
             <div id="result"></div>

       <!--<div id="result"></div>-->
        <!--Envia o form via post para a funcão create em views.py
         Se na requisição houver o db, como das funções edit chama o update, se não
         chama o create-->
        <form name="form" id="form" action="{%if db%}/update/{{db.id}}/{%else%}/create/{% endif %}" method="post">
            {% csrf_token%} <!- token para proteção do formulário ->
            <div class="form-group mt-4">Produto:</div> <div class="col-sm-10">{{form.produto}}</div>
            <div class="form-group mt-4">Descrição: </div> <div class="col-sm-10">{{form.descricao}}</div>
            <div class="form-group mt-4">Quantidade: </div> <div class="col-sm-10">{{form.quantidade}}</div>
            <div class="form-group mt-4">Preço: </div> <div class="col-sm-10">{{form.preco}}</div>
            <div class="col-8 pt-2 pb-2">
                <input type="submit" class="btn btn-info pt-2 pb-2" value="Salvar">
            </div>
        </form>
    </div>
    </div>
  </main>
{%load static%} <!-- chamando o static que foi criado no arquivo settings.py -->
<script src="{% static 'script.js' %}"></script>

</body>
</html>